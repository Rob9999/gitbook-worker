% UTF-8 and font configuration for LuaLaTeX
\usepackage{fontspec}
\defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}

% Link handling and pdf metadata hooks
\usepackage{hyperref}

% Some TeX Live / hyperref combinations can end up with \Hy@toclinkstart being
% referenced by the hyperref TOC hook while not yet defined. This breaks
% \tableofcontents reading and can manifest as a corrupted/missing TOC.
% Define no-op fallbacks to keep compilation robust.
\makeatletter
\providecommand{\Hy@toclinkstart}[1]{}
\providecommand{\Hy@toclinkend}{}
\makeatother

% Workaround: ensure emoji macros exist even if latex-emoji is missing/not yet
% loaded. Also guard PDF strings to avoid duplicate definitions and bookmark
% crashes. This block is idempotent so that latex-emoji can still redefine the
% macros later.
\makeatletter
\@ifundefined{panEmojiFont}{\newcommand{\panEmojiFont}{}}{\renewcommand{\panEmojiFont}{}}
\@ifundefined{panEmoji}{\newcommand{\panEmoji}[1]{#1}}{\renewcommand{\panEmoji}[1]{#1}}
\@ifundefined{coloremoji}{\newcommand{\coloremoji}[1]{#1}}{\renewcommand{\coloremoji}[1]{#1}}
\pdfstringdefDisableCommands{%%
	\def\panEmojiFont{}%%
	\def\panEmoji#1{#1}%%
	\def\coloremoji#1{#1}%%
}
\makeatother

\usepackage{enumitem}
\usepackage{amssymb}
\setlistdepth{9}
\renewlist{itemize}{itemize}{9}
\setlist[itemize]{label=\textbullet}
\setlist[itemize,1]{label=\textbullet}
\setlist[itemize,2]{label=\textendash}
\setlist[itemize,3]{label=\textasteriskcentered}
\setlist[itemize,4]{label=\textperiodcentered}
\setlist[itemize,5]{label=\diamond}
\setlist[itemize,6]{label=\circ}
\setlist[itemize,7]{label=\triangleright}
\setlist[itemize,8]{label=\triangleleft}
\setlist[itemize,9]{label=\square}
